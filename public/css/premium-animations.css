/* ============================================
   ✨ PREMIUM ANIMATIONS & VISUAL EFFECTS
   ============================================ */

/* ============================================
   GLOBAL ANIMATION VARIABLES
   ============================================ */

:root {
  --animation-fast: 0.15s;
  --animation-normal: 0.3s;
  --animation-slow: 0.5s;
  --animation-very-slow: 1s;
  
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
  --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-in-out-circ: cubic-bezier(0.85, 0, 0.15, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* ============================================
   PAGE TRANSITIONS
   ============================================ */

.page-enter {
  animation: pageEnter var(--animation-slow) var(--ease-out-expo);
}

.page-exit {
  animation: pageExit var(--animation-normal) ease-in;
}

@keyframes pageEnter {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pageExit {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

/* Fade transitions */
.fade-in {
  animation: fadeIn var(--animation-normal) ease-out;
}

.fade-out {
  animation: fadeOut var(--animation-normal) ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

/* ============================================
   BUTTON EFFECTS
   ============================================ */

.btn {
  position: relative;
  overflow: hidden;
  transition: all var(--animation-normal) var(--ease-out-expo);
}

/* Ripple effect */
.btn::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
  transform: scale(0);
  opacity: 0;
  transition: transform 0.5s, opacity 0.3s;
}

.btn:active::after {
  transform: scale(2);
  opacity: 1;
  transition: transform 0s, opacity 0s;
}

/* Hover lift effect */
.btn:hover {
  transform: translateY(-3px);
  box-shadow: 
    0 10px 20px rgba(0, 0, 0, 0.3),
    var(--glow-purple);
}

.btn:active {
  transform: translateY(-1px);
}

/* Pulse animation for primary buttons */
.btn-primary {
  animation: btnPulse 2s ease-in-out infinite;
}

@keyframes btnPulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(147, 51, 234, 0.4);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(147, 51, 234, 0);
  }
}

.btn-primary:hover {
  animation: none;
}

/* ============================================
   CARD ANIMATIONS
   ============================================ */

.card {
  transition: all var(--animation-normal) var(--ease-out-expo);
}

.card:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.4),
    var(--glow-purple);
}

/* Card entrance animation */
.card-enter {
  animation: cardEnter var(--animation-slow) var(--ease-out-back);
}

@keyframes cardEnter {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Staggered card animations */
.card-stagger:nth-child(1) { animation-delay: 0ms; }
.card-stagger:nth-child(2) { animation-delay: 50ms; }
.card-stagger:nth-child(3) { animation-delay: 100ms; }
.card-stagger:nth-child(4) { animation-delay: 150ms; }
.card-stagger:nth-child(5) { animation-delay: 200ms; }
.card-stagger:nth-child(6) { animation-delay: 250ms; }
.card-stagger:nth-child(7) { animation-delay: 300ms; }
.card-stagger:nth-child(8) { animation-delay: 350ms; }
.card-stagger:nth-child(9) { animation-delay: 400ms; }
.card-stagger:nth-child(10) { animation-delay: 450ms; }

/* ============================================
   GLASS MORPHISM EFFECTS
   ============================================ */

.glass {
  background: rgba(26, 26, 46, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-strong {
  background: rgba(26, 26, 46, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.glass-light {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* ============================================
   PARTICLE EFFECTS
   ============================================ */

.particles-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: -1;
}

.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--accent-purple);
  border-radius: 50%;
  opacity: 0.6;
  animation: particleFloat 15s linear infinite;
}

@keyframes particleFloat {
  0% {
    transform: translateY(100vh) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  90% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-100vh) rotate(720deg);
    opacity: 0;
  }
}

/* Generate multiple particles with different delays */
.particle:nth-child(1) { left: 10%; animation-delay: 0s; animation-duration: 12s; }
.particle:nth-child(2) { left: 20%; animation-delay: 2s; animation-duration: 14s; }
.particle:nth-child(3) { left: 30%; animation-delay: 4s; animation-duration: 16s; }
.particle:nth-child(4) { left: 40%; animation-delay: 1s; animation-duration: 13s; }
.particle:nth-child(5) { left: 50%; animation-delay: 3s; animation-duration: 15s; }
.particle:nth-child(6) { left: 60%; animation-delay: 5s; animation-duration: 11s; }
.particle:nth-child(7) { left: 70%; animation-delay: 2.5s; animation-duration: 17s; }
.particle:nth-child(8) { left: 80%; animation-delay: 1.5s; animation-duration: 14s; }
.particle:nth-child(9) { left: 90%; animation-delay: 3.5s; animation-duration: 12s; }
.particle:nth-child(10) { left: 15%; animation-delay: 4.5s; animation-duration: 16s; }

/* ============================================
   CONFETTI EFFECT (Victory)
   ============================================ */

.confetti-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 9998;
}

.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  animation: confettiFall 3s ease-out forwards;
}

@keyframes confettiFall {
  0% {
    transform: translateY(-100%) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

.confetti:nth-child(odd) {
  background: var(--accent-purple);
}

.confetti:nth-child(even) {
  background: var(--accent-red);
}

/* ============================================
   SCREEN SHAKE EFFECT
   ============================================ */

.screen-shake {
  animation: screenShake 0.5s ease-out;
}

@keyframes screenShake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.screen-shake-strong {
  animation: screenShakeStrong 0.6s ease-out;
}

@keyframes screenShakeStrong {
  0%, 100% { transform: translate(0, 0); }
  10%, 30%, 50%, 70%, 90% { transform: translate(-10px, -5px); }
  20%, 40%, 60%, 80% { transform: translate(10px, 5px); }
}

/* ============================================
   GLOW EFFECTS
   ============================================ */

.glow-purple {
  box-shadow: var(--glow-purple);
  animation: glowPulse 2s ease-in-out infinite;
}

.glow-red {
  box-shadow: var(--glow-red);
  animation: glowPulseRed 2s ease-in-out infinite;
}

@keyframes glowPulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.5);
  }
  50% {
    box-shadow: 0 0 40px rgba(147, 51, 234, 0.8), 0 0 60px rgba(147, 51, 234, 0.4);
  }
}

@keyframes glowPulseRed {
  0%, 100% {
    box-shadow: 0 0 20px rgba(229, 9, 20, 0.5);
  }
  50% {
    box-shadow: 0 0 40px rgba(229, 9, 20, 0.8), 0 0 60px rgba(229, 9, 20, 0.4);
  }
}

/* Text glow */
.text-glow {
  text-shadow: 
    0 0 10px var(--accent-purple),
    0 0 20px var(--accent-purple),
    0 0 30px var(--accent-purple);
}

.text-glow-red {
  text-shadow: 
    0 0 10px var(--accent-red),
    0 0 20px var(--accent-red),
    0 0 30px var(--accent-red);
}

/* ============================================
   LOADING ANIMATIONS
   ============================================ */

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(147, 51, 234, 0.3);
  border-top-color: var(--accent-purple);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.loading-dots {
  display: flex;
  gap: 8px;
}

.loading-dot {
  width: 10px;
  height: 10px;
  background: var(--accent-purple);
  border-radius: 50%;
  animation: loadingDot 1.4s ease-in-out infinite both;
}

.loading-dot:nth-child(1) { animation-delay: -0.32s; }
.loading-dot:nth-child(2) { animation-delay: -0.16s; }
.loading-dot:nth-child(3) { animation-delay: 0s; }

@keyframes loadingDot {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Skeleton loading */
.skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.05) 25%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.05) 75%
  );
  background-size: 200% 100%;
  animation: skeletonShimmer 1.5s infinite;
  border-radius: 8px;
}

@keyframes skeletonShimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* ============================================
   MICRO-INTERACTIONS
   ============================================ */

/* Input focus effect */
input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--accent-purple);
  box-shadow: 0 0 0 3px rgba(147, 51, 234, 0.2);
  transition: all var(--animation-fast) ease;
}

/* Checkbox animation */
.checkbox-custom {
  position: relative;
  width: 20px;
  height: 20px;
  background: var(--card-bg);
  border: 2px solid var(--border-color);
  border-radius: 4px;
  cursor: pointer;
  transition: all var(--animation-fast) ease;
}

.checkbox-custom.checked {
  background: var(--accent-purple);
  border-color: var(--accent-purple);
}

.checkbox-custom.checked::after {
  content: '✓';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  color: white;
  font-size: 14px;
  animation: checkPop var(--animation-fast) var(--ease-out-back) forwards;
}

@keyframes checkPop {
  to { transform: translate(-50%, -50%) scale(1); }
}

/* Toggle switch */
.toggle-switch {
  width: 50px;
  height: 26px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 13px;
  position: relative;
  cursor: pointer;
  transition: background var(--animation-normal) ease;
}

.toggle-switch.active {
  background: var(--accent-purple);
}

.toggle-switch::after {
  content: '';
  position: absolute;
  width: 22px;
  height: 22px;
  background: white;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: transform var(--animation-normal) var(--ease-out-back);
}

.toggle-switch.active::after {
  transform: translateX(24px);
}

/* ============================================
   VICTORY CELEBRATION
   ============================================ */

.victory-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  animation: fadeIn var(--animation-normal) ease;
}

.victory-content {
  text-align: center;
  animation: victoryPop var(--animation-slow) var(--ease-out-back);
}

@keyframes victoryPop {
  0% {
    transform: scale(0) rotate(-10deg);
    opacity: 0;
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

.victory-trophy {
  font-size: 8rem;
  animation: trophyBounce 0.5s ease infinite alternate;
}

@keyframes trophyBounce {
  from { transform: translateY(0) scale(1); }
  to { transform: translateY(-20px) scale(1.1); }
}

.victory-text {
  font-size: 3rem;
  font-weight: bold;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-top: 20px;
  animation: victoryTextGlow 1s ease infinite alternate;
}

@keyframes victoryTextGlow {
  from {
    filter: drop-shadow(0 0 10px rgba(147, 51, 234, 0.5));
  }
  to {
    filter: drop-shadow(0 0 30px rgba(147, 51, 234, 0.8));
  }
}

/* ============================================
   DEFEAT ANIMATION
   ============================================ */

.defeat-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  animation: defeatFade var(--animation-slow) ease;
}

@keyframes defeatFade {
  from {
    background: rgba(229, 9, 20, 0.3);
  }
  to {
    background: rgba(0, 0, 0, 0.9);
  }
}

.defeat-content {
  text-align: center;
  animation: defeatDrop var(--animation-slow) ease;
}

@keyframes defeatDrop {
  0% {
    transform: translateY(-50px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.defeat-icon {
  font-size: 6rem;
  animation: defeatShake 0.5s ease;
}

@keyframes defeatShake {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-10deg); }
  75% { transform: rotate(10deg); }
}

/* ============================================
   TYPING INDICATOR
   ============================================ */

.typing-indicator {
  display: flex;
  gap: 4px;
  padding: 10px 15px;
  background: var(--card-bg);
  border-radius: 20px;
  width: fit-content;
}

.typing-dot {
  width: 8px;
  height: 8px;
  background: var(--text-secondary);
  border-radius: 50%;
  animation: typingBounce 1.4s ease-in-out infinite;
}

.typing-dot:nth-child(1) { animation-delay: 0s; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes typingBounce {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-10px); }
}

/* ============================================
   NOTIFICATION ANIMATIONS
   ============================================ */

.notification {
  animation: notificationSlide var(--animation-normal) var(--ease-out-back);
}

@keyframes notificationSlide {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.notification-exit {
  animation: notificationExit var(--animation-normal) ease-in forwards;
}

@keyframes notificationExit {
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* ============================================
   HOVER EFFECTS
   ============================================ */

.hover-lift {
  transition: transform var(--animation-normal) var(--ease-out-expo);
}

.hover-lift:hover {
  transform: translateY(-5px);
}

.hover-scale {
  transition: transform var(--animation-normal) var(--ease-out-expo);
}

.hover-scale:hover {
  transform: scale(1.05);
}

.hover-glow {
  transition: box-shadow var(--animation-normal) ease;
}

.hover-glow:hover {
  box-shadow: var(--glow-purple);
}

/* ============================================
   SCROLL ANIMATIONS
   ============================================ */

.scroll-reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: all var(--animation-slow) var(--ease-out-expo);
}

.scroll-reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ============================================
   REDUCED MOTION
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
